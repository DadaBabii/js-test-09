{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// localStorage.setItem('test', 'hello');\n\nconst form = document.querySelector('.feedback-form');\nconsole.log(form);\nconst STORAGE_KEY = \"feedback-form-state\";\nform.addEventListener('input', () => \n{\n    const userEmail = form.elements.email.value;\n    // console.log(userEmail);\n    const userMessage = form.elements.message.value;\n    // console.log(userMessage);\n\nconst obj = {\n    email: userEmail,\n   message: userMessage,\n};\n\n    saveToLS(STORAGE_KEY, obj);\n\n});\n\nfunction restoreData() {\n     \n    const { email, message } = getFromLS(STORAGE_KEY) || {};\n\n     form.elements.email.value = email || '';\n     form.elements.message.value = message || '';\n};\nrestoreData();\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit (e) {\n    e.preventDefault();\n    const obj = getFromLS(STORAGE_KEY) || {};\n    console.log(obj);\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n\n\n}\n\n\n\n    \n\n// const str = JSON.stringify(obj);\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n};\n\nfunction getFromLS(key = \"empty\") {\n    const value = localStorage.getItem(key);\n    try {\n        \n        const data = JSON.parse(value);\n        return data;\n        \n    } catch (error) { console.log('error')\n        \n    }\n};\n"],"names":["form","STORAGE_KEY","userEmail","userMessage","saveToLS","restoreData","email","message","getFromLS","onFormSubmit","obj","key","value","jsonData"],"mappings":"oDAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAAc,sBACpBD,EAAK,iBAAiB,QAAS,IAC/B,CACI,MAAME,EAAYF,EAAK,SAAS,MAAM,MAEhCG,EAAcH,EAAK,SAAS,QAAQ,MAQ1CI,EAASH,EALD,CACR,MAAOC,EACR,QAASC,CACZ,CAE6B,CAE7B,CAAC,EAED,SAASE,GAAc,CAEnB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKC,EAAUP,CAAW,GAAK,GAEpDD,EAAK,SAAS,MAAM,MAAQM,GAAS,GACrCN,EAAK,SAAS,QAAQ,MAAQO,GAAW,EAC9C,CACAF,IAEAL,EAAK,iBAAiB,SAAUS,CAAY,EAE5C,SAASA,EAAc,EAAG,CACtB,EAAE,eAAc,EAChB,MAAMC,EAAMF,EAAUP,CAAW,GAAK,CAAA,EACtC,QAAQ,IAAIS,CAAG,EACf,aAAa,WAAWT,CAAW,EACnCD,EAAK,MAAK,CAGd,CAQA,SAASI,EAASO,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASL,EAAUG,EAAM,QAAS,CAC9B,MAAMC,EAAQ,aAAa,QAAQD,CAAG,EACtC,GAAI,CAGA,OADa,KAAK,MAAMC,CAAK,CAGhC,MAAC,CAAgB,QAAQ,IAAI,OAAO,CAEpC,CACL"}